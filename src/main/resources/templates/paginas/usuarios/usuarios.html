<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">

<head>
	<meta charset="UTF-8" />
	<title>Usuarios</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" />

	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker.min.css"
		rel="stylesheet" />

	<!-- Popper JS -->

	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.css" />

	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" />

	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css" />

	<link rel="stylesheet"
		href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css" />

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
		integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous" />

	<style>
		.form-group {
			flex: 1 0 auto;
		}

		.body {
			background-color: white;
		}
	</style>
</head>

<body>
	<div class="card-header bg-primary"></div>
	<div class="card-body">
		<h4 class="card-title bg-basic">USUARIOS</h4>
		<a class="btn btn-primary" th:href="@{/usuarios/cadastro}">Cadastrar</a>
		<a class="btn btn-success" th:href="@{/menu}">Sair</a> <br />
		<br />
		<h4>LISTAGEM</h4>
		<div class="table-responsive">
			<form>
				<table id="tb3" class="table table-bordered table-condensed table-striped table-hover" style="font-size: 12px">
					<thead class="thead-dark">
						<tr>
							<th>ID</th>
							<th>NOME</th>
							<th>LOGIN</th>
							<th>EMAIL</th>
							<th>TIPO</th>
							<th>ALTERAR</th>
							<th>INATIVAR</th>
						</tr>
					</thead>
					<tbody>
					
						<tr th:each="co,ta : ${usuario}">
							<td th:text="${co.idusuario}">1</td>
							<td id="nom" th:text="${co.nomecompleto}">2</td>
							<td th:text="${co.login}">2</td>
							<td th:text="${co.emailprincipal}">2</td>
							<td th:text="${co.toTipo()}">2</td>

							<td class="text-center">
								<a type="submit" th:href="@{'/usuarios/alterar/'+${co.idusuario}}"
									class="btn btn-primary button"><i class="far fa-edit"></i></a>
							</td>
							<td class="text-center">
								<a type="submit" data-toggle="modal" data-target="#myModal2" class="btn btn-warning"><i
										class="fas fa-user-times"></i></a>
							</td>
						</tr>
					</tbody>
				</table>
			</form>
		</div>
	</div>

	<!--Mostra o modal da alteração-->
	<div class="modal fade" id="myModal1">
		<div class="modal-dialog modal-dialog-centered">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" style="font-size: 20px">Alterar Usuário</h4>
					<button type="button" class="close" data-dismiss="modal">
						&times;
					</button>
				</div>
				<div class="modal-body">
					<p>Some text in the modal.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal">
						Sair
					</button>
				</div>
			</div>
		</div>
	</div>

	<!--Mostra o modal da alteração-->
	<div class="modal fade" id="myModal2" role="dialog">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Inativar Usuário</h4>
					<button type="button" class="close" data-dismiss="modal">
						&times;
					</button>
				</div>
				<div class="modal-body">
					<p>Realmente Deseja Inativar o Usuário?.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal">
						Sair
					</button>
				</div>
			</div>
		</div>
	</div>
</body>

<!-- Popper JS -->
<script type="text/javascript" src="/webjars/jquery/3.4.1/jquery.min.js"></script>

<script type="text/javascript" src="/webjars/bootstrap/4.4.1/js/bootstrap.min.js"></script>

<script type="text/javascript" th:src="@{/js/libfuncoes.js}"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<!-- Latest compiled JavaScript -->

<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<script src="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.js"></script>

<script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.20/i18n/Portuguese-Brasil.json"></script>

<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

<script src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js"></script>

<script type="text/javascript">
	$(document).ready(function () {
		$("#tb3").DataTable({
			dom: "Bfrtip",
			buttons: ["copyHtml5", "excelHtml5", "csvHtml5", "pdfHtml5"],
			language: {
				url: "//cdn.datatables.net/plug-ins/1.10.20/i18n/Portuguese-Brasil.json",
			},
		});
	});

	function apagaForm() {
		document.getElementById("form1").reset();
	}
	$(function () {
		$("#datainicial").datepicker({
			dateFormat: "dd/mm/yy",
		});
	});
	$(function () {
		$("#datafinal").datepicker({
			dateFormat: "dd/mm/yy",
		});
	});

	jQuery(function ($) {
		$.datepicker.regional["pt-BR"] = {
			showOn: "button",
			buttonImage: "images/calendar.png",
			buttonImageOnly: true,
			dateFormat: "dd/mm/yy",
			dayNames: [
				"Domingo",
				"Segunda",
				"Terça",
				"Quarta",
				"Quinta",
				"Sexta",
				"Sábado",
			],
			dayNamesMin: ["D", "S", "T", "Q", "Q", "S", "S", "D"],
			dayNamesShort: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sáb", "Dom"],
			monthNames: [
				"Janeiro",
				"Fevereiro",
				"Março",
				"Abril",
				"Maio",
				"Junho",
				"Julho",
				"Agosto",
				"Setembro",
				"Outubro",
				"Novembro",
				"Dezembro",
			],
			monthNamesShort: [
				"Jan",
				"Fev",
				"Mar",
				"Abr",
				"Mai",
				"Jun",
				"Jul",
				"Ago",
				"Set",
				"Out",
				"Nov",
				"Dez",
			],
			nextText: "Próximo",
			prevText: "Anterior",
			yearSuffix: "",
		};
		$.datepicker.setDefaults($.datepicker.regional["pt-BR"]);
	});
</script>

</html>